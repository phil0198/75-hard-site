<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>75 Hard – Bible Edition</title>
  <link rel="stylesheet" href="style.css" />
  <style>
    body {
      font-family: 'Inter', sans-serif;
      background: #f9fafb;
      color: #1f2937;
      padding: 2rem;
      text-align: center;
    }
    nav {
      display: flex;
      justify-content: center;
      gap: 1rem;
      margin-bottom: 2rem;
    }
    nav a {
      text-decoration: none;
      padding: 0.5rem 1rem;
      background-color: #1e293b;
      color: white;
      border-radius: 6px;
      font-weight: 500;
    }
    nav a:hover {
      background-color: #334155;
    }
    .mobile-nav {
      display: none;
    }
    select.mobile-dropdown {
      width: 100%;
      max-width: 300px;
      padding: 0.5rem;
      font-size: 1rem;
      border-radius: 6px;
      border: 1px solid #ccc;
    }
    @media (max-width: 640px) {
      nav {
        display: none;
      }
      .mobile-nav {
        display: block;
        margin-bottom: 2rem;
      }
    }
    h1 {
      font-size: 2rem;
      margin-bottom: 0.5rem;
    }
    p {
      margin-bottom: 2rem;
      color: #4b5563;
    }
    .wheel-container {
      display: flex;
      justify-content: space-around;
      flex-wrap: wrap;
      align-items: flex-start;
      margin-top: 2rem;
    }
    .wheel-section {
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    canvas {
      margin-bottom: 1rem;
    }
    .spin-btn {
      background-color: #1e40af;
      color: white;
      border: none;
      padding: 0.75rem 1.5rem;
      border-radius: 8px;
      cursor: pointer;
      font-size: 1rem;
    }
    .spin-btn:hover {
      background-color: #1d4ed8;
    }
    .result-text {
      margin-top: 1rem;
      font-weight: bold;
      color: #1e293b;
      font-size: 1.1rem;
    }
    .scripture-of-day {
      max-width: 600px;
      margin: 0 auto;
      background-color: #fff;
      padding: 1rem 1.5rem;
      border-radius: 8px;
      box-shadow: 0 0 10px rgba(0,0,0,0.05);
      font-style: italic;
      margin-top: 2rem;
    }
  </style>
</head>
<body>
  <nav>
    <a href="index.html">Home</a>
    <a href="journal.html">Journal</a>
    <a href="prayer-generator.html">Prayer Generator</a>
    <a href="past-entries.html">Past Entries</a>
    <a href="scripture-search.html">Scripture Search</a>
  </nav>
  <div class="mobile-nav">
    <select class="mobile-dropdown" onchange="location = this.value;">
      <option disabled selected>Navigate to...</option>
      <option value="index.html">Home</option>
      <option value="journal.html">Journal</option>
      <option value="prayer-generator.html">Prayer Generator</option>
      <option value="past-entries.html">Past Entries</option>
      <option value="scripture-search.html">Scripture Search</option>
    </select>
  </div>

  <h1>75 Hard – Bible Edition</h1>
  <p>Spin each wheel to receive your daily Bible readings!</p>

  <div class="scripture-of-day" id="dailyVerse">
  <span id="verseText">Loading scripture of the day...</span><br>
  <a id="learnMoreLink" href="#" target="_blank" style="display:inline-block; margin-top: 0.5rem; color: #1e40af; text-decoration: underline; font-size: 0.9rem;">Learn more</a>
</div>

  <div class="wheel-container">
    <div class="wheel-section">
      <h2>Old Testament</h2>
      <div style="position: relative; display: inline-block;">
  <canvas id="oldWheel" width="300" height="300"></canvas>
  <div onclick="startSpin('old')" style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 60px; height: 60px; background: #000; border-radius: 50%; border: 4px solid white; display: flex; align-items: center; justify-content: center; font-size: 14px; font-weight: bold; color: white; cursor: pointer;">
  <div style="position: absolute; top: -18px; left: 50%; transform: translateX(-50%); width: 0; height: 0; border-left: 10px solid transparent; border-right: 10px solid transparent; border-bottom: 20px solid #000;"></div>
  Spin
</div>
</div>
      
      <div id="oldResult" class="result-text"></div>
    </div>
    <div class="wheel-section">
      <h2>New Testament</h2>
      <div style="position: relative; display: inline-block;">
  <canvas id="newWheel" width="300" height="300"></canvas>
  <div onclick="startSpin('new')" style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -130%); width: 60px; height: 60px; background: #000; border-radius: 50%; border: 4px solid white; display: flex; align-items: center; justify-content: center; font-size: 14px; font-weight: bold; color: white; cursor: pointer;">
  <div style="position: absolute; top: -18px; left: 50%; transform: translateX(-50%); width: 0; height: 0; border-left: 10px solid transparent; border-right: 10px solid transparent; border-bottom: 20px solid #000;"></div>
  Spin
</div>
</div>
      
      <div id="newResult" class="result-text"></div>
    </div>
  </div>

  <script>
    const oldTestamentBooks = [..."Genesis,Exodus,Leviticus,Numbers,Deuteronomy,Joshua,Judges,Ruth,1 Samuel,2 Samuel,1 Kings,2 Kings,1 Chronicles,2 Chronicles,Ezra,Nehemiah,Esther,Job,Psalms,Proverbs,Ecclesiastes,Song of Solomon,Isaiah,Jeremiah,Lamentations,Ezekiel,Daniel,Hosea,Joel,Amos,Obadiah,Jonah,Micah,Nahum,Habakkuk,Zephaniah,Haggai,Zechariah,Malachi".split(",")];
    const newTestamentBooks = [..."Matthew,Mark,Luke,John,Acts,Romans,1 Corinthians,2 Corinthians,Galatians,Ephesians,Philippians,Colossians,1 Thessalonians,2 Thessalonians,1 Timothy,2 Timothy,Titus,Philemon,Hebrews,James,1 Peter,2 Peter,1 John,2 John,3 John,Jude,Revelation".split(",")];

    const angles = { old: 0, new: 0 };
    const spinning = { old: false, new: false };

    function drawWheel(canvasId, books, rotation = 0) {
      const canvas = document.getElementById(canvasId);
      const ctx = canvas.getContext("2d");
      const radius = canvas.width / 2;
      const center = radius;
      const arc = (2 * Math.PI) / books.length;
      ctx.clearRect(0, 0, canvas.width, canvas.height);

      books.forEach((book, i) => {
        const angle = i * arc + rotation;
        ctx.beginPath();
        ctx.fillStyle = `hsl(${(i / books.length) * 360}, 70%, 70%)`;
        ctx.moveTo(center, center);
        ctx.arc(center, center, radius, angle, angle + arc);
        ctx.fill();

        ctx.save();
        ctx.translate(center, center);
        ctx.rotate(angle + arc / 2);
        ctx.textAlign = "right";
        ctx.fillStyle = "#000";
        ctx.font = "bold 12px sans-serif";
        ctx.fillText(book, radius - 10, 4);
        ctx.restore();
      });
    }

    function animateWheel(type, books) {
      const canvasId = type + "Wheel";
      if (!spinning[type]) return;

      angles[type] += 0.2;
      drawWheel(canvasId, books, angles[type]);

      if (angles[type] > Math.PI * 4 + Math.random() * Math.PI * 2) {
        spinning[type] = false;
        const index = Math.floor((books.length * ((2 * Math.PI - angles[type] % (2 * Math.PI)) % (2 * Math.PI))) / (2 * Math.PI));
        const book = books[index];
        const chapter = Math.ceil(Math.random() * 30);
        const result = `${book} ${chapter}`;
        document.getElementById(`${type}Result`).textContent = result;
        sessionStorage.setItem(`${type}TestamentResult`, result);
      } else {
        requestAnimationFrame(() => animateWheel(type, books));
      }
    }

    function startSpin(type) {
  if (spinning[type]) return;
  const books = type === 'old' ? oldTestamentBooks : newTestamentBooks;
  spinning[type] = true;

  // Preselect a book
  const selectedIndex = Math.floor(Math.random() * books.length);
  const selectedBook = books[selectedIndex];
  const selectedChapter = Math.ceil(Math.random() * 30);
  const arc = (2 * Math.PI) / books.length;
  const stopAngle = 2 * Math.PI * 5 + (books.length - selectedIndex) * arc - arc / 2;
  const duration = 2000;
  const start = performance.now();
  const initial = angles[type];

  function animate(timestamp) {
    const elapsed = timestamp - start;
    const progress = Math.min(elapsed / duration, 1);
    angles[type] = initial + (stopAngle - initial) * easeOutCubic(progress);
    drawWheel(type + "Wheel", books, angles[type]);

    if (progress < 1) {
      requestAnimationFrame(animate);
    } else {
      spinning[type] = false;
      const result = `${selectedBook} ${selectedChapter}`;
      document.getElementById(`${type}Result`).textContent = result;
      const button = document.querySelector(`#${type}Wheel`).nextElementSibling;
      button.style.boxShadow = '0 0 10px 4px gold';
      setTimeout(() => button.style.boxShadow = '', 1500);
      new Audio('https://actions.google.com/sounds/v1/cartoon/cartoon_boing.ogg').play();
      sessionStorage.setItem(`${type}TestamentResult`, result);
    }
  }

  requestAnimationFrame(animate);
}

function easeOutCubic(t) {
  return 1 - Math.pow(1 - t, 3);
}
    }

    window.onload = function () {
      const verses = [
        "Psalm 23:1 — The Lord is my shepherd; I shall not want.",
        "Philippians 4:13 — I can do all things through Christ who strengthens me.",
        "John 3:16 — For God so loved the world that he gave his one and only Son...",
        "Romans 8:28 — And we know that in all things God works for the good...",
        "Isaiah 40:31 — But those who hope in the Lord will renew their strength.",
        "Jeremiah 29:11 — For I know the plans I have for you, declares the Lord...",
        "Proverbs 3:5 — Trust in the Lord with all your heart...",
        "Matthew 11:28 — Come to me, all who labor and are heavy laden...",
        "Psalm 46:1 — God is our refuge and strength...",
        "James 1:2 — Consider it pure joy, my brothers and sisters, whenever you face trials...",
        "1 Peter 5:7 — Cast all your anxiety on him because he cares for you.",
        "Romans 12:2 — Do not conform to the pattern of this world...",
        "Hebrews 11:1 — Now faith is the assurance of things hoped for...",
        "Galatians 5:22 — But the fruit of the Spirit is love, joy, peace...",
        "2 Timothy 1:7 — For God gave us a spirit not of fear but of power...",
        "Psalm 118:24 — This is the day that the Lord has made...",
        "Matthew 6:33 — But seek first the kingdom of God and his righteousness...",
        "Colossians 3:23 — Whatever you do, work at it with all your heart...",
        "Joshua 1:9 — Be strong and courageous...",
        "Ephesians 2:8 — For by grace you have been saved through faith...",
        "Psalm 34:8 — Taste and see that the Lord is good...",
        "Isaiah 41:10 — Do not fear, for I am with you...",
        "1 Corinthians 10:13 — God is faithful; he will not let you be tempted...",
        "Proverbs 18:10 — The name of the Lord is a strong tower...",
        "Philippians 1:6 — He who began a good work in you...",
        "Psalm 139:14 — I praise you because I am fearfully and wonderfully made...",
        "Romans 15:13 — May the God of hope fill you with all joy and peace...",
        "1 John 4:19 — We love because he first loved us.",
        "Lamentations 3:22 — The steadfast love of the Lord never ceases...",
        "Matthew 28:20 — I am with you always, to the very end of the age."
      ];
      const today = new Date();
      const start = new Date(today.getFullYear(), 0, 0);
      const diff = today - start;
      const oneDay = 1000 * 60 * 60 * 24;
      const dayOfYear = Math.floor(diff / oneDay);
      const fullVerse = verses[dayOfYear % verses.length];
      const verseRef = fullVerse.split(' — ')[0];
      document.getElementById("verseText").innerText = `Scripture of the Day: ${fullVerse}`;
      document.getElementById("learnMoreLink").href = `https://www.biblegateway.com/quicksearch/?quicksearch=${encodeURIComponent(verseRef)}&version=ESV`;

      drawWheel("oldWheel", oldTestamentBooks);
      drawWheel("newWheel", newTestamentBooks);
      const oldSaved = sessionStorage.getItem("oldTestamentResult");
      const newSaved = sessionStorage.getItem("newTestamentResult");
      if (oldSaved) document.getElementById("oldResult").textContent = oldSaved;
      if (newSaved) document.getElementById("newResult").textContent = newSaved;
    };
  </script>
</body>
</html>
