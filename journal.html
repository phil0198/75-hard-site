<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Daily Journal</title>
    <link rel="stylesheet" href="style.css" />
    <style>
      body {
        font-family: 'Inter', sans-serif;
        background-color: #f9faff;
        margin: 0;
        padding: 2rem;
        text-align: center;
      }
      nav {
        display: flex;
        justify-content: center;
        gap: 1rem;
        margin-bottom: 2rem;
      }
      nav a {
        text-decoration: none;
        padding: 0.5rem 1rem;
        background-color: #1e293b;
        color: white;
        border-radius: 6px;
      }
      .journal-box {
        background-color: #eef0ff;
        padding: 2rem;
        border-radius: 12px;
        max-width: 700px;
        margin: 0 auto;
      }
      .timer-controls {
        display: flex;
        justify-content: center;
        gap: 1rem;
        margin-top: 1rem;
      }
      input, textarea {
        width: 90%;
        margin-top: 1rem;
        padding: 0.75rem;
        font-size: 1rem;
        border: 1px solid #ccc;
        border-radius: 6px;
      }
      button {
        padding: 0.75rem 1.5rem;
        font-size: 1rem;
        border: none;
        border-radius: 6px;
        background-color: #4f46e5;
        color: white;
        cursor: pointer;
      }
    </style>
  </head>
  <body>
    <nav>
      <a href="index.html">Home</a>
      <a href="journal.html">Journal</a>
      <a href="prayer-generator.html">Prayer Generator</a>
      <a href="past-entries.html">Past Entries</a>
    </nav>

    <h1>Daily Journal</h1>
    <p>Reflect on today's Scripture and what it means to you.</p>

    <div class="journal-box">
      <p><strong>Old Testament:</strong> <span id="journalOldTestament">Not selected yet</span></p>
      <p><strong>New Testament:</strong> <span id="journalNewTestament">Not selected yet</span></p>
      <p><strong>5-Minute Reflection Timer</strong></p>
      <h2 id="timer">5:00</h2>

      <div class="timer-controls">
        <button onclick="startTimer()">Start Timer</button>
        <button onclick="pauseTimer()">Pause Timer</button>
      </div>

      <form>
        <div>
          <label for="verse">Standout Verse:</label><br />
          <input type="text" id="verse" placeholder="E.g. Romans 8:28" />
        </div>

        <div>
          <label for="reflection">Reflection:</label><br />
          <textarea id="reflection" rows="4" placeholder="What is God showing you today?"></textarea>
        </div>

        <div>
          <label>Gratitude (3 items):</label><br />
          <input type="text" placeholder="I'm thankful for... #1" /><br />
          <input type="text" placeholder="#2" /><br />
          <input type="text" placeholder="#3" />
        </div>

        <div style="margin-top: 1rem;">
          <button type="submit">Save Entry</button>
        </div>
      </form>
    </div>

    <script>
      let countdown;
      let timeLeft = 300;
      let running = false;

      function updateDisplay() {
        const minutes = Math.floor(timeLeft / 60);
        const seconds = timeLeft % 60;
        document.getElementById("timer").textContent = `${minutes}:${seconds.toString().padStart(2, "0")}`;
      }

      function startTimer() {
        if (running) return;
        running = true;
        countdown = setInterval(() => {
          if (timeLeft <= 0) {
            clearInterval(countdown);
            alert("Reflection time is over.");
            return;
          }
          timeLeft--;
          updateDisplay();
        }, 1000);
      }

      function pauseTimer() {
        running = false;
        clearInterval(countdown);
      }

      // Auto-populate scripture from localStorage
      window.addEventListener("DOMContentLoaded", () => {
        const old = localStorage.getItem("oldTestamentReading") || "Not selected yet";
        const newReading = localStorage.getItem("newTestamentReading") || "Not selected yet";
        document.getElementById("journalOldTestament").textContent = old;
        document.getElementById("journalNewTestament").textContent = newReading;
        updateDisplay();
      });
    </script>
  </body>
</html>
