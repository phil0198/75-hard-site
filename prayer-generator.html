<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Prayer Generator</title>
  <link rel="stylesheet" href="style.css" />
  <style>
    body {
      font-family: 'Inter', sans-serif;
      background: #f9fafb;
      color: #1f2937;
      padding: 2rem;
      max-width: 800px;
      margin: auto;
    }

    nav {
      margin-bottom: 2rem;
    }

    .nav-bar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      flex-wrap: wrap;
    }

    #nav-wrapper a,
    #mobile-menu a {
      text-decoration: none;
      padding: 0.5rem 1rem;
      background-color: #1e293b;
      color: white;
      border-radius: 6px;
      font-weight: 500;
    }

    #nav-wrapper {
      display: flex;
      justify-content: center;
      gap: 1rem;
      flex-wrap: wrap;
      flex-grow: 1;
    }

    #hamburger {
      display: none;
      font-size: 1.5rem;
      background: none;
      border: none;
      color: #1e293b;
      cursor: pointer;
    }

    #mobile-menu {
      display: none;
      flex-direction: column;
      gap: 0.5rem;
      margin-top: 1rem;
    }

    @media (max-width: 640px) {
      #nav-wrapper {
        display: none;
      }

      #hamburger {
        display: block;
      }

      #mobile-menu.show {
        display: flex;
      }
    }

    h1 {
      text-align: center;
    }

    .emotion-card {
      display: inline-block;
      padding: 0.75rem 1.25rem;
      margin: 0.5rem;
      background: #e0e7ff;
      border-radius: 6px;
      cursor: pointer;
    }

    .emotion-card.selected {
      background: #4338ca;
      color: white;
    }

    textarea, button {
      width: 100%;
      padding: 0.75rem;
      margin-top: 1rem;
      border-radius: 6px;
      border: 1px solid #ccc;
      font-size: 1rem;
    }

    button {
      background-color: #1e40af;
      color: white;
      border: none;
      cursor: pointer;
    }

    #output {
      margin-top: 2rem;
      background: #f3f4f6;
      padding: 1rem;
      border-radius: 8px;
      white-space: pre-wrap;
    }
  </style>
</head>
<body>
  <nav>
    <div class="nav-bar">
      <div id="nav-wrapper">
        <a href="index.html">Home</a>
        <a href="journal.html">Journal</a>
        <a href="prayer-generator.html">Prayer Generator</a>
        <a href="past-entries.html">Past Entries</a>
        <a href="scripture-search.html">Scripture Search</a>
      </div>
      <button id="hamburger" onclick="toggleMobileMenu()">☰</button>
    </div>
    <div id="mobile-menu">
      <a href="index.html">Home</a>
      <a href="journal.html">Journal</a>
      <a href="prayer-generator.html">Prayer Generator</a>
      <a href="past-entries.html">Past Entries</a>
      <a href="scripture-search.html">Scripture Search</a>
    </div>
  </nav>

  <h1>Prayer Generator</h1>
  <p>Select how you feel:</p>
  <div id="emotions">
    <span class="emotion-card">Anxious</span>
    <span class="emotion-card">Grateful</span>
    <span class="emotion-card">Lost</span>
    <span class="emotion-card">Hopeful</span>
    <span class="emotion-card">Tired</span>
    <span class="emotion-card">Hurt</span>
    <span class="emotion-card">Joyful</span>
    <span class="emotion-card">Burdened</span>
    <span class="emotion-card">Angry</span>
    <span class="emotion-card">Content</span>
    <span class="emotion-card">Lonely</span>
    <span class="emotion-card">Confused</span>
  </div>

  <textarea id="situation" rows="4" placeholder="Describe your situation..."></textarea>
  <button onclick="generatePrayer()">Generate Prayer</button>

  <div id="output"></div>

  <script>
    function toggleMobileMenu() {
      const menu = document.getElementById('mobile-menu');
      const button = document.getElementById('hamburger');

      if (menu.classList.contains('show')) {
        menu.classList.remove('show');
        button.textContent = '☰';
      } else {
        menu.classList.add('show');
        button.textContent = '✕';
      }
    }

    let selectedEmotion = "";

    const openings = [
      "Gracious Father,", "Heavenly Lord,", "Father in Heaven,", "Abba, I come to You today,", "Lord God Almighty,"
    ];

    const closings = [
      "In Jesus' name I pray, Amen.",
      "I trust You and place this in Your hands. Amen.",
      "May Your will be done. Amen.",
      "Through Christ our Lord, Amen.",
      "Let Your peace guard my heart. Amen."
    ];

    const pastoralLines = {
      anxious: ["Still my racing heart and anchor me in Your peace that surpasses understanding.", "Calm my anxious thoughts and draw me near to You."],
      lonely: ["Remind me You are the friend who sticks closer than a brother.", "Comfort me with the truth that I am fully known and fully loved."],
      hurt: ["Heal my heart and steady my soul.", "Let my pain point me to Your presence."],
      tired: ["Give me strength where I am weak and rest for my soul.", "Sustain me through the weariness."],
      grateful: ["Thank You for daily mercies I don’t deserve.", "Keep my heart soft and full of praise."],
      confused: ["Speak truth into the noise and help me walk by faith, not by sight.", "Give me discernment and a steady heart."],
      angry: ["Guard my mouth and my heart; help me to be slow to anger and quick to forgive.", "Redirect my anger into something that brings life."],
      joyful: ["Let my joy overflow in praise and be contagious to those around me.", "Fill my days with songs of thanksgiving."],
      burdened: ["Help me lay down every weight and take up Your yoke, which is easy and light.", "Give me courage to face what overwhelms me."],
      hopeful: ["Fan into flame the hope You’ve planted in me.", "Renew my hope with every breath."],
      lost: ["Be my Shepherd and guide.", "Walk with me through the fog until clarity comes."],
      content: ["Teach me to be satisfied with Your presence above all.", "Keep me grounded in what truly matters."]
    };

    document.querySelectorAll('.emotion-card').forEach(card => {
      card.addEventListener('click', () => {
        document.querySelectorAll('.emotion-card').forEach(c => c.classList.remove('selected'));
        card.classList.add('selected');
        selectedEmotion = card.innerText.toLowerCase();
      });
    });

    function generatePrayer() {
      const outputDiv = document.getElementById("output");
      const situation = document.getElementById("situation").value.trim();

      if (!selectedEmotion) {
        outputDiv.innerText = "Please select an emotion.";
        return;
      }

      outputDiv.innerText = "Generating prayer...";

      setTimeout(() => {
        const opening = openings[Math.floor(Math.random() * openings.length)];
        const closing = closings[Math.floor(Math.random() * closings.length)];
        const line = (pastoralLines[selectedEmotion] || [""])[Math.floor(Math.random() * pastoralLines[selectedEmotion].length)];

        const reminders = [
          "Let Your Word speak louder than my fears.",
          "Speak peace to my soul and anchor me in Your truth.",
          "Help me remember who You are and what You’ve spoken.",
          "Steady me with Scripture and strengthen my heart."
        ];
        const reminderLine = reminders[Math.floor(Math.random() * reminders.length)];

        let prayerForOther = "";

        const match = situation.match(/pray for ([A-Z][a-z]+)(.*)/i);
        if (match) {
          const name = match[1];
          const blessing = `Be near to ${name}, meet their need, and strengthen their spirit.`;
          prayerForOther = `\n\nAnd Lord, I lift up ${name} to You. ${blessing}`;
        }

        const prayer = `${opening}

Today I come to You feeling ${selectedEmotion}. ${line}

${reminderLine}${prayerForOther}

${closing}`;

        outputDiv.innerText = prayer;
      }, 800);
    }
  </script>
</body>
</html>
