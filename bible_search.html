<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>75 Hard Bible Edition - Bible Search</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 2rem;
      line-height: 1.5;
      color: #333;
    }
    h1 {
      text-align: center;
    }
    .search-container {
      text-align: center;
      margin-bottom: 1.5rem;
    }
    input, button {
      padding: 0.5rem 1rem;
      font-size: 1rem;
      margin-right: 0.5rem;
    }
    #bibleContent h2 {
      margin-top: 2rem;
      border-bottom: 1px solid #ccc;
      padding-bottom: 0.5rem;
    }
    #bibleContent p {
      margin: 0.5rem 0;
    }
    sup {
      font-size: 0.85rem;
      vertical-align: super;
      margin-right: 0.25rem;
    }
  </style>
</head>
<body>
  <h1>75 Hard Bible Edition</h1>
  <div class="search-container">
    <input id="bookInput" list="books" placeholder="Enter a book name, e.g. Genesis">
    <datalist id="books"></datalist>
    <button id="searchBtn">Search</button>
  </div>
  <div id="bibleContent"></div>

  <script>
    // List of 66 books of the Protestant Bible
    const books = [
      "Genesis", "Exodus", "Leviticus", "Numbers", "Deuteronomy",
      "Joshua", "Judges", "Ruth", "1 Samuel", "2 Samuel",
      "1 Kings", "2 Kings", "1 Chronicles", "2 Chronicles", "Ezra",
      "Nehemiah", "Esther", "Job", "Psalms", "Proverbs",
      "Ecclesiastes", "Song of Solomon", "Isaiah", "Jeremiah", "Lamentations",
      "Ezekiel", "Daniel", "Hosea", "Joel", "Amos",
      "Obadiah", "Jonah", "Micah", "Nahum", "Habakkuk",
      "Zephaniah", "Haggai", "Zechariah", "Malachi",
      "Matthew", "Mark", "Luke", "John", "Acts",
      "Romans", "1 Corinthians", "2 Corinthians", "Galatians", "Ephesians",
      "Philippians", "Colossians", "1 Thessalonians", "2 Thessalonians", "1 Timothy",
      "2 Timothy", "Titus", "Philemon", "Hebrews", "James",
      "1 Peter", "2 Peter", "1 John", "2 John", "3 John",
      "Jude", "Revelation"
    ];

    // Populate datalist for autocomplete
    const datalist = document.getElementById('books');
    books.forEach(book => {
      const option = document.createElement('option');
      option.value = book;
      datalist.appendChild(option);
    });

    document.getElementById('searchBtn').addEventListener('click', () => {
      const book = document.getElementById('bookInput').value.trim();
      if (!books.includes(book)) {
        alert('Please select a valid book from the list.');
        return;
      }
      const url = `https://bible-api.com/${encodeURIComponent(book)}?translation=web`;  // Uses World English Bible (public domain)

      fetch(url)
        .then(response => response.json())
        .then(data => {
          const container = document.getElementById('bibleContent');
          if (data.error) {
            container.innerHTML = `<p>Error: ${data.error}</p>`;
            return;
          }
          let html = `<h2>${data.reference}</h2>`;
          data.verses.forEach(v => {
            html += `<p><sup>${v.chapter}:${v.verse}</sup> ${v.text}</p>`;
          });
          container.innerHTML = html;
        })
        .catch(err => {
          console.error(err);
          document.getElementById('bibleContent').innerHTML = '<p>Failed to fetch the requested book.</p>';
        });
    });
  </script>
</body>
</html>
